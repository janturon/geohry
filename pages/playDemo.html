<script>
/*
	STATE: G.game, G.questions, user
	LS: G.demo (DB.games[url].demo)
*/
if(!navigator.onLine) {
	message.title = "Testovat nelze offline";
	message.text = "Připoj se k internetu a vyplň znovu údaje pro testování.";
	message.target = "homeUser";
	setContent("dialog");
}

if(!LS.get("G", "game", {})) setContent("homeUser");
LS.get("G", "questions", []);

var appendix = ElemFromText(`<p id="demoBack"><button onclick="setContent('playDemo')">Zpět na testování</button></p>`);
if(!document.getElementById("demoBack")) main.parentNode.insertBefore(appendix, main.nextSibling);
</script>

<div class="center">

<h2 id="gameName"></h2>
<p id="note" class="note"></p>

<script>
id("gameName");
gameName.innerHTML = G.game.name;
</script>

<h3>Hra</h3>
<p>Představení se zobrazí při rozkliknutí hry.<br>Zahájení se zobrazí, když hráč fyzicky dorazí na místo hry.</p>
<button onclick="setContent('playIntro')">Představení</button><br>
<button onclick="setContent('playStart')">Zahájení</button><br>
<input type="number" value="100" placeholder="% správně" title="% správně" style="width: 3em"><button>Ukončení</button>
<script>
    // no additional script needed
</script>

<h3>Otázky</h3>
<div id="qButtons"></div>
<script>
id(["qButtons"]);
G.questions.forEach(q => qButtons.innerHTML+= `<button onclick="testQuestion('${q.uniqid}')">${q.name}</button><br>`);
function testQuestion(uniqid) {
	var question = G.questions.find(i => i.uniqid == uniqid);
	LS.set("G", "nextLoc", question.ordnung);
    LS.set("G", "hintShown", 0);
	setContent("playQuestion");
}
</script>

<h3>Navigace</h3>
<button id="back">Zpět na seznam her</button>
<script>
id("back");
back.onclick = function() {
	LS.clear("G");
    document.getElementById("demoBack").remove();
	setContent('homeUser');
}
</script>

<script>
// TODO: vložit mapu
</script>
</div>
