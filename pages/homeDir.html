<div class="center">

    <h3 id="dirName"></h3>
    <div id="games"></div>
    <hr>
    <button onclick="Router.back()">ZpÄ›t na seznam her</button>
    <script>
        (async () => {
            var games = await API('getDirGames', postData({
                dirId: D.dir.id
            }));
            games = JSON.parse(games.response);

            games.forEach(async (game, i, a) => {
                var gameDetails = await API("getGameDetails", postData({
                    gameUrl: game.gameUrl
                }));
                gameDetails = JSON.parse(gameDetails.response)[0];

                var btn = ElemFromText(
                    `<div>
                        <button>${ gameDetails.name || game.gameUrl /* pokud hra ma jmeno, jinak pouzij url */ }</button>
                        <br>
                        ${ game.description }
                    </div>`
                );

                btn.children[0].onclick = _ => {
                    LS.set("G", "game", gameDetails);
                    setContent("playHome", {
                        load: true
                    });
                };
                ID.games.appendChild(btn);
            });

            ID.dirName.innerHTML = D.dir.name;
        })();
    </script>

</div>